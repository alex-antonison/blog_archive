<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>venv is a Data Professional’s best friend | Alex Antonison’s Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="venv is a Data Professional’s best friend" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A post about how virtual environments can help with workflow, collaboration, and reproducibility" />
<meta property="og:description" content="A post about how virtual environments can help with workflow, collaboration, and reproducibility" />
<link rel="canonical" href="https://alex-antonison.com/reproducibility/2021/02/06/reproducibility-for-all.html" />
<meta property="og:url" content="https://alex-antonison.com/reproducibility/2021/02/06/reproducibility-for-all.html" />
<meta property="og:site_name" content="Alex Antonison’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-02-06T00:00:00-06:00" />
<script type="application/ld+json">
{"url":"https://alex-antonison.com/reproducibility/2021/02/06/reproducibility-for-all.html","@type":"BlogPosting","headline":"venv is a Data Professional’s best friend","dateModified":"2021-02-06T00:00:00-06:00","datePublished":"2021-02-06T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://alex-antonison.com/reproducibility/2021/02/06/reproducibility-for-all.html"},"description":"A post about how virtual environments can help with workflow, collaboration, and reproducibility","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://alex-antonison.com/feed.xml" title="Alex Antonison's Blog" /><link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Alex Antonison&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">venv is a Data Professional&#39;s best friend</h1><p class="page-description">A post about how virtual environments can help with workflow, collaboration, and reproducibility</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-02-06T00:00:00-06:00" itemprop="datePublished">
        Feb 6, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#reproducibility">reproducibility</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#venv-is-a-data-professionals-best-friend">venv is a Data Professional’s best friend</a>
<ul>
<li class="toc-entry toc-h2"><a href="#venvrenv">venv/renv</a></li>
<li class="toc-entry toc-h2"><a href="#limitations">Limitations</a></li>
<li class="toc-entry toc-h2"><a href="#other-virtual-environment-tools">Other virtual environment tools</a></li>
</ul>
</li>
</ul><h1 id="venv-is-a-data-professionals-best-friend">
<a class="anchor" href="#venv-is-a-data-professionals-best-friend" aria-hidden="true"><span class="octicon octicon-link"></span></a>venv is a Data Professional’s best friend</h1>

<p>Have you ever tried to share a project with a colleague and they struggled to run it? Have you ever spent hours trying to get a machine learning library to work? If so, there are solutions out there that can help with this!  In this post, I will talk about a utility, virtual environments, that can be used to manage specific packages.</p>

<h2 id="venvrenv">
<a class="anchor" href="#venvrenv" aria-hidden="true"><span class="octicon octicon-link"></span></a>venv/renv</h2>

<p>When starting up a project, the first step I take is to spin up a virtual environment. In python, my personal favorite is the virtual environment utility built directly into python, <a href="https://docs.python.org/3/tutorial/venv.html">python venv</a>. In R, I like to use the package <a href="https://rstudio.github.io/renv/">renv</a> supported by RStudio. I do this for the following reasons:</p>

<ul>
  <li>Clean slate: When installing packages in a virtual environment, you can either use the latest versions of packages without worrying about impacting other projects or choose to use specific versions of packages.</li>
  <li>Collaboration: If I am working on a project with others, I can share the virtual environment configuration files, and they can spin up a virtual environment and run my code with the same packages.</li>
  <li>Reproducibility: When I set the project down and I want to pick it up at a later time, I can ensure I am using the same packages as when I first started the project.</li>
</ul>

<p>For python, you can run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /path/to/project
<span class="c"># creates the virtual environment</span>
python <span class="nt">-m</span> venv venv
<span class="c"># activates the virtual environment in your terminal</span>
<span class="nb">source </span>venv/bin/activate
</code></pre></div></div>

<p>Once the environment is created and activated, you can then install all of the packages you need for your project and save them to a <code class="language-plaintext highlighter-rouge">requirements.txt</code> file that should be included with your project when sharing.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip freeze <span class="o">&gt;</span> requirements.txt
</code></pre></div></div>

<p>For R, you can run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># You must first install `renv`</span>
Rscript <span class="nt">-e</span> <span class="s2">"install.packages('renv')"</span>

<span class="c"># Once installed, you can then run</span>
<span class="nb">cd</span> /path/to/project
Rscript <span class="nt">-e</span> <span class="s2">"renv::init()"</span>
</code></pre></div></div>

<p>Once set up and activated, you can start working on your project and install packages as needed. When you are ready to snapshot your environment, you can run the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Rscript <span class="nt">-e</span> <span class="s2">"renv::snapshot()"</span>
</code></pre></div></div>

<p>This will update the <code class="language-plaintext highlighter-rouge">renv.lock</code> file that should be used when sharing your code to allow setting up a new environment from it.  This is most easily used when working with R in a project in RStudio.</p>

<h2 id="limitations">
<a class="anchor" href="#limitations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Limitations</h2>

<p>While virtual environments are great at managing packages needed to run code, it is limited to just that.  There are other aspects of running a project such as application or operating system dependencies. To completely solve for reproducing the environment for running code, you can explore using <a href="https://www.docker.com/">docker</a>, a utility that will allow for capturing your entire environment which includes the Operating System and supporting applications.  There is a steeper learning curve to this, and I plan on dedicating entire post(s) to the topic of how docker is a more comprehensive solution to reproducibility.</p>

<h2 id="other-virtual-environment-tools">
<a class="anchor" href="#other-virtual-environment-tools" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other virtual environment tools</h2>

<p>For python, <a href="https://pipenv.pypa.io/en/latest/">pipenv</a> and <a href="https://python-poetry.org/">poetry</a> are virtual environment utilities that allow for managing various versions of packages in a project.  You can manage packages ranging from selecting a specific version of a package to letting any version of that package be installed.  While these tools can be helpful in managing packages and package dependencies, they come with additional complexity and a learning curve.</p>

  </div><a class="u-url" href="/reproducibility/2021/02/06/reproducibility-for-all.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>A blog about working with data and machine learning</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/alex-antonison" title="alex-antonison"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/adantonison" title="adantonison"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
